
dbo.collection("questions").insertMany(myData, function (err, res) {
  if (err) throw err;
  console.log("insert : " + res.insertedCount);
  db.close();
});
socket.emit("add point", {
  name: this.state.data[this.state.currentUser].name,
  point: this.state.data[this.state.currentUser].score + 10,
});
//===========================================================================================

// onSubmit = (e) => {
//   e.preventDefault();
//   let { data } = this.state;
//   console.log(data);
//   if (data) {
//     for (let i = 0; i < data.length; i++) {
//       if (
//         this.state.gmail == data[i].gmail &&
//         this.state.password == data[i].pass
//       ) {
//         localStorage.setItem("tooken", i);
//       }
//     }
//   }
//   if (localStorage.tooken == null) {
//     alert("login false");
//   }
//   this.setState({
//     gmail: "",
//     password: "",
//   });
// };

// onLogin = (e) => {
//   this.setState({
//     [e.target.name]: e.target.value,
//   });
// };
componentDidMount() {
  this.setState({
    questions: this.props.questions,
    data: this.props.data,
    currentUser: this.props.current[0] ? this.props.current[0].current : 0,
  });
}
checkKey = (e) => {
  e.preventDefault();
  e = e || window.event;
  let { currentQues } = this.state;
  if (e.keyCode == "38") {
    // up arrow
    currentQues--;
    this.setState({ currentQues: currentQues });
    socket.emit("choose ques", this.state.questions[currentQues].ques);
    $(document).scrollTop($(document).scrollTop() - 50);
  } //==============================================================================================================
  else if (e.keyCode == "40") {
    // down arrow
    currentQues++;
    this.setState({ currentQues: currentQues });
    $(document).scrollTop($(document).scrollTop() + 50);
    socket.emit("choose ques", this.state.questions[currentQues].ques);
  } //==============================================================================================================
  else if (e.keyCode == "13") {
    let a = this.state.data[this.state.currentUser].score;
    a += 10;
    let userss = this.state.data;
    userss[this.state.currentUser].score = a;
    this.setState({ data: userss });
    socket.emit("add point", {
      name: this.state.data[this.state.currentUser].name,
      point: this.state.data[this.state.currentUser].score,
      stt: this.state.currentUser,
      users: this.state.data,
    });
    //console.log(this.state.data[this.state.currentUser].score);
    // left arrow
    //alert("left");
  } //==============================================================================================================
  else if (e.keyCode == "49") {
    this.nextUser(1);
    // right arrow
    //alert("right");
  } //==============================================================================================================
  else if (e.keyCode == "50") {
    // right arrow
    //alert("right");
    this.nextUser(2);
  } //==============================================================================================================
  else if (e.keyCode == "51") {
    // right arrow
    //alert("right");
    this.nextUser(3);
  } //==============================================================================================================
  else if (e.keyCode == "52") {
    // right arrow
    //alert("right");
    this.nextUser(4);
  }
};

//
nextUser = (stt) => {
  this.setState({ currentUser: stt });
  let a = this.state.data[this.state.currentUser].score;
  let userss = this.state.data;
  userss[this.state.currentUser].score = a;
  this.setState({ data: userss });
  socket.emit("add point", {
    name: this.state.data[this.state.currentUser].name,
    point: this.state.data[this.state.currentUser].score,
    stt: stt,
  });
  socket.emit("change people");
};

handleKeyDown = (e) => {
  // arrow up/down button should select next/previous list element
  this.checkKey(e);
};
//============================================================================

// {
 
//   "ques":"Trong tiểu thuyết “Số đỏ” của Vũ Trọng Phụng, cặp vợ chồng nào là chủ nhân của tiệm may Âu Hóa?"
// },
// {
  
//   "ques":" Mai Thị Giang, quán quân cuộc thi Vietnam’s Next Top Model 2012 đến từ tỉnh thành nào?"
  
// },
// {
 
//   "ques":"Năm nào kỷ niệm 40 năm quan hệ ngoại giao Việt Nam – Nhật Bản?"
  
// },
// {
  
//   "ques":"Việt Nam – Vẻ đẹp bất tận” là khẩu hiệu của ngành kinh tế nào?"
// }
// {
  
//   "ques":"Xuân Diệu cho rằng hành động này của con người 'Cho rất nhiều song nhận chẳng bao nhiêu /Người ta phụ , hoặc thờ ơ , chẳng biết '?"
  
// }\




{"_id":{"$oid":"5f183656b64e2822ec70c2bf"},"gmail":"admin@gmail.com","pass":"q1","name":"admin","avatar":"https://wsa.ca/wp-content/uploads/2018/10/facebook-profile-picture-unknown-facts-about-facebook-300x188.jpg","vip":"1","score":0}

//====//============================================================================================


//================================================

//================================================

//================================================
//================================================

//================================================

//================================================

//================================================
let data=[
  { "ques":""},
  { "ques":" Xạ thủ Hoàng Xuân Vinh đã giành huy chương vàng tại Olympic Rio 2016 ở môn bắn súng tại hạng mục nào?"},
  { "ques":" Địa danh nào được nhắc tới trong những câu thơ sau: “... xa rồi Tây Tiến ơi/ Nhớ rừng nhớ núi nhớ chơi vơi”?"},
  { "ques":" Kim loại nào có khối lượng riêng lớn nhất? "},
  { "ques":" Parabol y = x2 sau khi được tịnh tiến xuống dưới 3 đơn vị sẽ trở thành parabol nào? "},
  { "ques":" Triều đại phong kiến nào ở nước ta tồn tại từ năm 1226 đến năm 1400?"},
  { "ques":" Quan hệ hợp tác giữa hai loài, trong đó một loài có lợi còn loài kia không có lợi cũng không có hại gì được gọi là gì?"},
  { "ques":" Who is the author of “The Call of the Wild”?"},
  { "ques":" Trong các đại lượng vật lý sau, đại lượng nào là đại lượng vô hướng: lực, gia tốc, vận tốc, khối lượng?"},
  { "ques":" Dụng cụ nào thường được dùng để đo độ ẩm không khí?"},
  { "ques":" Khủng long đẻ con hay đẻ trứng?"},
  { "ques":" Hát ả đào là tên gọi khác của loại hình nghệ thuật nào? "},
  { "ques":" Vĩ tuyến nào được lấy làm đường biên giới giữa Hàn Quốc và Triều Tiên? "},
  
  
  
  
  { "ques":" Hiện tượng khí tượng phức hợp gồm chớp và kèm theo sấm do đối lưu rất mạnh trong khí quyển gây ra được gọi là gì"}, 
  { "ques":" Ở người, những khớp không thể cử động được gọi là gì"}, 
  { "ques":" Sao Hỏa là hành tinh thứ mấy tính từ Mặt Trời"},
  { "ques":" How many stars are there in China’s flag"},
  { "ques":" Ca khúc “Italia Summer” là ca khúc cổ động của World Cup năm nào"}, 
  { "ques":" Hình thang cân có 2 đường chéo vuông góc với nhau là hình gì"}, 
  { "ques":" Loại vaccine được điều chế bằng cách giết chết mầm bệnh được gọi là gì"}, 
  { "ques":" ... của nam châm là hình ảnh của các đường sức từ trong từ trường của nam châm đó."},
  { "ques":" Loại axit có trong quả chanh là axit gì"}, 
  { "ques":" Theo pháp luật hiện hành, hai vợ chồng có được phép ly hôn khi người vợ đang có thai hay không"},
  { "ques":" Những câu chuyện ngắn mang tính chất mua vui đồng thời phê phán những thói hư tật xấu trong xã hội được gọi là gì"}, 
  { "ques":" “Bao giờ người Tây nhổ hết cỏ nước Nam thì mới hết người Nam đánh Tây” là câu nói của ai"}, 
  
  
  
  { "ques":" Tập hợp các số vô tỉ được kí hiệu là chữ cái nào"},  
  { "ques":" Phân bón mà thành phần của nó gồm NH4H2PO4 và (NH4)2HPO4 là phân bón nào"}, 
  { "ques":" Ngày gia đình Việt Nam là ngày nào trong năm"},
  { "ques":" Điện trường ... là điện trường mà các đường sức của nó là các đường cong kín."},
  { "ques":" Triết lý sống “Con người ta trên đường đời thật khó tránh khỏi những vòng vèo hay chùng chình” được Nguyễn Minh Châu gửi gắm trong truyện ngắn nào"}, 
  { "ques":" Which part of your body do you use to taste"},
  { "ques":" Lăng quăng là tên gọi khác của ... "},
  { "ques":" Năm 1516, Cửu Trùng Đài được xây dựng là theo ý của vị vua nào"},  
  { "ques":" Thủ đô của Nga nằm ở châu lục nào"}, 
  { "ques":" Trong 1 trận thi đấu bóng chuyền, khi phải đấu tới hiệp thứ 5 để phân thắng bại thì số điểm tối thiểu 2 đội cần đạt tới để chiến thắng là bao nhiêu"}, 
  { "ques":" Bản giao hưởng đầu tiên của Việt Nam có tên là gì"}, 
  { "ques":" “Đừng thấy cái bóng to của mình trên tường mà tưởng mình vĩ đại.” là câu nói của ai"}, 
  
  { "ques":" Khi tìm giá trị nhỏ nhất và lớn nhất của hàm số trên một đoạn ta có cần quan tâm tới chuyện hàm số đó có liên tục trên khoảng xét hay không"}, 
  { "ques":" Khi ta thả một vật rơi tự do từ một độ cao nào đó, hệ gồm Trái Đất và vật là một hệ kín, đúng hay sai"}, 
  { "ques":" Binh biến Đô Lương tại tỉnh Nghệ An diễn ra vào năm nào"}, 
  { "ques":" Khí hậu ở châu Phi nóng là do phần lớn diện tích của châu lục này nằm ở khu vực nào"}, 
  { "ques":" Kênh truyền hình nào của ĐTHVN là kênh truyền hình đầu tiên được phát sóng theo chuẩn tín hiệu HD"}, 
  { "ques":" TOEFL stands for Test Of English as a ... Language."},
  { "ques":" Liên kết ... là loại liên kết được hình thành từ sự xen phủ trục của 2 obitan nguyên tử trong liên kết đó. "},
  { "ques":" Miễn dịch ... là loại miễn dịch mà ta không bị mắc lại một loại bệnh nào đó sau khi đã mắc phải một vài lần."},
  { "ques":" Bài thơ “Sóng” được nhà thơ Xuân Quỳnh sáng tác khi bà đang ở đâu"},
  { "ques":" Ai được mệnh danh là “Ông hoàng nhạc Pop”"}, 
  { "ques":" Do chiến tranh thế giới thứ II mà World Cup năm 1946 và năm ... không được tổ chức. "},
  { "ques":" “Búp sen xanh” cuốn tiểu thuyết viết về Bác Hồ của nhà văn nào"}
  ]